#-------------------------------------------------------------------------------------------------
# i3 config
#-------------------------------------------------------------------------------------------------

set $mod Mod4

font pango:System San Francisco Display 10

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

bindsym $mod+d          exec --no-startup-id i3-dmenu-desktop
# bindsym $mod+d          exec --no-startup-id dmenu_run # i3-dmenu-desktop
# bindsym $mod+d          exec --no-startup-id rofi -show run -lines 4 -font "San Francisco Display 10"

bindsym $mod+Return     exec --no-startup-id gnome-terminal

# kill focused window
bindsym $mod+q kill

bindsym $mod+Up               focus up
bindsym $mod+Left             focus left
bindsym $mod+Down             focus down
bindsym $mod+Right            focus right

bindsym $mod+Shift+Up         move up
bindsym $mod+Shift+Left       move left
bindsym $mod+Shift+Down       move down
bindsym $mod+Shift+Right      move right

bindsym $mod+h                split h
bindsym $mod+v                split v

bindsym $mod+f                fullscreen toggle

# bindsym $mod+w              layout tab
# bindsym $mod+s              layout stacking
# bindsym $mod+e              layout toggle split


# toggle tiling / floating
bindsym $mod+Shift+space      floating toggle

# change focus between tiling / floating windows
bindsym $mod+space            focus mode_toggle

set $webstorm "1 "
set $chrome "2 "
set $gitkraken "3 "
set $terminal "4 "
set $other "5 ? "

# xprop to find class
assign [class="jetbrains-webstorm"] $webstorm
assign [class="Google-chrome"] $chrome
assign [class="GitKraken"] $gitkraken
assign [class="Terminator"] $terminal

bindsym $mod+Next  workspace next
bindsym $mod+Prior workspace prev

bindsym $mod+1 workspace $webstorm
bindsym $mod+2 workspace $chrome
bindsym $mod+3 workspace $gitkraken
bindsym $mod+4 workspace $terminal
bindsym $mod+5 workspace $other
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

bindsym $mod+Shift+1 move container to workspace $webstorm
bindsym $mod+Shift+2 move container to workspace $chrome
bindsym $mod+Shift+3 move container to workspace $gitkraken
bindsym $mod+Shift+4 move container to workspace $terminal
bindsym $mod+Shift+5 move container to workspace $other
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# Pulse Audio controls
bindsym XF86AudioMute                exec --no-startup-id amixer -D pulse set Master toggle
bindsym XF86AudioRaiseVolume         exec --no-startup-id amixer -D pulse sset Master 5%+
bindsym XF86AudioLowerVolume         exec --no-startup-id amixer -D pulse sset Master 5%-

# Screen brightness controls
bindsym XF86MonBrightnessUp          exec --no-startup-id xbacklight -inc 20
bindsym XF86MonBrightnessDown        exec --no-startup-id xbacklight -dec 20

# Touchpad controls
# bindsym XF86TouchpadToggle          exec --no-startup-id ~/.config/i3/toggle-touch-pad.sh

# Media player controls
bindsym XF86AudioPlay               exec --no-startup-id playerctl play
bindsym XF86AudioNext               exec --no-startup-id playerctl next
bindsym XF86AudioPrev               exec --no-startup-id playerctl previous
bindsym XF86AudioPause              exec --no-startup-id playerctl pause

# reload the i3 configuration file
bindsym $mod+Shift+c reload

# restart i3 in place preserves your layout/session
bindsym $mod+Shift+r restart

# lock i3
# i3lock --color "$bg-color" # -i ~/.config/i3/wallpaper.png
bindsym $mod+l exec --no-startup-id ~/.config/i3/lock.sh

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec --no-startup-id "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize mode
bindsym $mod+r mode "resize"

mode "resize" {
    bindsym Down     resize grow height     10 px or 10 ppt
    bindsym Right    resize grow width      10 px or 10 ppt

    bindsym Up       resize shrink height   10 px or 10 ppt
    bindsym Left     resize shrink width    10 px or 10 ppt

    bindsym          Return mode "default"
    bindsym          Escape mode "default"
}

set $bg-color               #2F343F
set $urgent-bg-color        #E59335
set $inactive-bg-color      #2F343F

set $text-color             #F3F4F5
set $inactive-text-color    #676E7D

#                        border              background          text                  indicator
#-------------------------------------------------------------------------------------------------
client.urgent            $urgent-bg-color    $urgent-bg-color    $text-color           #00ff00
client.focused           $bg-color           $bg-color           $text-color           #00ff00
client.unfocused         $inactive-bg-color  $inactive-bg-color  $inactive-text-color  #00ff00
client.focused_inactive  $inactive-bg-color  $inactive-bg-color  $inactive-text-color  #00ff00

hide_edge_borders both

bar {
    status_command i3blocks -c ~/.config/i3/i3blocks.conf

    colors {
        background $bg-color
        separator  #757575

        #                     border                background            text
        urgent_workspace      $urgent-bg-color      $urgent-bg-color      $text-color
        focused_workspace     $bg-color             $bg-color             $text-color
        inactive_workspace    $inactive-bg-color    $inactive-bg-color    $inactive-text-color
    }
}

exec_always --no-startup-id feh --bg-scale ~/.config/i3/wallpaper.png

# exec --no-startup-id compton --config ~/.config/compton.conf -b
exec --no-startup-id xbindkeys

# auto start applications
exec --no-startup-id "sh -c 'sleep 1; exec webstorm'"
exec --no-startup-id "sh -c 'sleep 2; exec google-chrome'"
exec --no-startup-id "sh -c 'sleep 3; exec gitkraken'"
exec --no-startup-id "sh -c 'sleep 4; exec terminator'"
